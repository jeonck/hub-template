<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>사용자 관리 - 정보시스템 감리 허브</title>
    <link rel="stylesheet" href="../../css/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="../../index.html">
                <i class="fas fa-shield-alt me-2"></i>정보시스템 감리 허브
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="../../index.html"><i class="fas fa-home me-1"></i>대시보드</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../checklists/checklists.html"><i class="fas fa-clipboard-list me-1"></i>감리 체크리스트</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../frameworks/frameworks.html"><i class="fas fa-layer-group me-1"></i>컴플라이언스 프레임워크</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../templates/templates.html"><i class="fas fa-file-alt me-1"></i>감리 템플릿</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../documents/documents.html"><i class="fas fa-folder-open me-1"></i>문서 저장소</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../reports/reports.html"><i class="fas fa-chart-bar me-1"></i>보고서</a>
                    </li>
                    <li class="nav-item dropdown active">
                        <a class="nav-link dropdown-toggle active" href="#" id="adminDropdown" role="button" data-bs-toggle="dropdown">
                            <i class="fas fa-cog me-1"></i>관리
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item active" href="users.html">사용자 관리</a></li>
                            <li><a class="dropdown-item" href="settings.html">시스템 설정</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mt-4">
        <div class="row">
            <div class="col-12">
                <h1><i class="fas fa-users-cog me-2 text-primary"></i>사용자 관리</h1>
                <p class="lead">시스템 사용자 계정을 관리하고 권한을 설정하세요.</p>
            </div>
        </div>

        <!-- Controls -->
        <div class="row mb-4">
            <div class="col-md-8">
                <div class="input-group">
                    <span class="input-group-text"><i class="fas fa-search"></i></span>
                    <input type="text" class="form-control" id="user-search" placeholder="사용자 검색...">
                    <button class="btn btn-outline-secondary" type="button" id="search-btn">
                        <i class="fas fa-filter"></i> 고급 검색
                    </button>
                </div>
            </div>
            <div class="col-md-4 text-md-end">
                <button class="btn btn-primary me-2" data-bs-toggle="modal" data-bs-target="#addUserModal">
                    <i class="fas fa-user-plus me-1"></i>사용자 추가
                </button>
                <div class="btn-group" role="group">
                    <button type="button" class="btn btn-outline-primary active" id="grid-view" title="그리드 보기">
                        <i class="fas fa-th"></i>
                    </button>
                    <button type="button" class="btn btn-outline-primary" id="list-view" title="리스트 보기">
                        <i class="fas fa-list"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- User Grid View -->
        <div id="user-grid">
            <div class="row">
                <!-- User Cards -->
                <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
                    <div class="card h-100">
                        <div class="card-body text-center">
                            <div class="mb-3">
                                <div class="bg-primary text-white rounded-circle d-flex align-items-center justify-content-center mx-auto" style="width: 80px; height: 80px;">
                                    <i class="fas fa-user fa-2x"></i>
                                </div>
                            </div>
                            <h6 class="card-title">김민수</h6>
                            <p class="card-text text-muted">IT 보안 팀</p>
                            <div class="mt-2">
                                <span class="badge bg-primary">관리자</span>
                            </div>
                        </div>
                        <div class="card-footer bg-transparent text-center">
                            <div class="d-flex justify-content-center">
                                <a href="#" class="btn btn-sm btn-outline-primary me-1" title="수정" data-bs-toggle="modal" data-bs-target="#editUserModal">
                                    <i class="fas fa-edit"></i>
                                </a>
                                <a href="#" class="btn btn-sm btn-outline-info me-1" title="권한">
                                    <i class="fas fa-key"></i>
                                </a>
                                <a href="#" class="btn btn-sm btn-outline-danger" title="삭제">
                                    <i class="fas fa-trash"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
                    <div class="card h-100">
                        <div class="card-body text-center">
                            <div class="mb-3">
                                <div class="bg-success text-white rounded-circle d-flex align-items-center justify-content-center mx-auto" style="width: 80px; height: 80px;">
                                    <i class="fas fa-user fa-2x"></i>
                                </div>
                            </div>
                            <h6 class="card-title">이지은</h6>
                            <p class="card-text text-muted">감리 팀</p>
                            <div class="mt-2">
                                <span class="badge bg-success">감리자</span>
                            </div>
                        </div>
                        <div class="card-footer bg-transparent text-center">
                            <div class="d-flex justify-content-center">
                                <a href="#" class="btn btn-sm btn-outline-primary me-1" title="수정" data-bs-toggle="modal" data-bs-target="#editUserModal">
                                    <i class="fas fa-edit"></i>
                                </a>
                                <a href="#" class="btn btn-sm btn-outline-info me-1" title="권한">
                                    <i class="fas fa-key"></i>
                                </a>
                                <a href="#" class="btn btn-sm btn-outline-danger" title="삭제">
                                    <i class="fas fa-trash"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
                    <div class="card h-100">
                        <div class="card-body text-center">
                            <div class="mb-3">
                                <div class="bg-warning text-dark rounded-circle d-flex align-items-center justify-content-center mx-auto" style="width: 80px; height: 80px;">
                                    <i class="fas fa-user fa-2x"></i>
                                </div>
                            </div>
                            <h6 class="card-title">박준호</h6>
                            <p class="card-text text-muted">운영 팀</p>
                            <div class="mt-2">
                                <span class="badge bg-warning text-dark">운영자</span>
                            </div>
                        </div>
                        <div class="card-footer bg-transparent text-center">
                            <div class="d-flex justify-content-center">
                                <a href="#" class="btn btn-sm btn-outline-primary me-1" title="수정" data-bs-toggle="modal" data-bs-target="#editUserModal">
                                    <i class="fas fa-edit"></i>
                                </a>
                                <a href="#" class="btn btn-sm btn-outline-info me-1" title="권한">
                                    <i class="fas fa-key"></i>
                                </a>
                                <a href="#" class="btn btn-sm btn-outline-danger" title="삭제">
                                    <i class="fas fa-trash"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
                    <div class="card h-100">
                        <div class="card-body text-center">
                            <div class="mb-3">
                                <div class="bg-info text-white rounded-circle d-flex align-items-center justify-content-center mx-auto" style="width: 80px; height: 80px;">
                                    <i class="fas fa-user fa-2x"></i>
                                </div>
                            </div>
                            <h6 class="card-title">정수연</h6>
                            <p class="card-text text-muted">보안 팀</p>
                            <div class="mt-2">
                                <span class="badge bg-info">분석가</span>
                            </div>
                        </div>
                        <div class="card-footer bg-transparent text-center">
                            <div class="d-flex justify-content-center">
                                <a href="#" class="btn btn-sm btn-outline-primary me-1" title="수정" data-bs-toggle="modal" data-bs-target="#editUserModal">
                                    <i class="fas fa-edit"></i>
                                </a>
                                <a href="#" class="btn btn-sm btn-outline-info me-1" title="권한">
                                    <i class="fas fa-key"></i>
                                </a>
                                <a href="#" class="btn btn-sm btn-outline-danger" title="삭제">
                                    <i class="fas fa-trash"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- User List View (Initially Hidden) -->
        <div id="user-list" style="display: none;">
            <div class="table-responsive">
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th>이름</th>
                            <th>이메일</th>
                            <th>부서</th>
                            <th>역할</th>
                            <th>상태</th>
                            <th>마지막 로그인</th>
                            <th>작업</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <div class="d-flex align-items-center">
                                    <div class="bg-primary text-white rounded-circle d-flex align-items-center justify-content-center me-2" style="width: 32px; height: 32px;">
                                        <i class="fas fa-user"></i>
                                    </div>
                                    김민수
                                </div>
                            </td>
                            <td>kimms@company.com</td>
                            <td>IT 보안 팀</td>
                            <td><span class="badge bg-primary">관리자</span></td>
                            <td><span class="badge bg-success">활성</span></td>
                            <td>2025.02.20</td>
                            <td>
                                <a href="#" class="btn btn-sm btn-outline-primary me-1" title="수정" data-bs-toggle="modal" data-bs-target="#editUserModal">
                                    <i class="fas fa-edit"></i>
                                </a>
                                <a href="#" class="btn btn-sm btn-outline-info me-1" title="권한">
                                    <i class="fas fa-key"></i>
                                </a>
                                <a href="#" class="btn btn-sm btn-outline-danger" title="삭제">
                                    <i class="fas fa-trash"></i>
                                </a>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="d-flex align-items-center">
                                    <div class="bg-success text-white rounded-circle d-flex align-items-center justify-content-center me-2" style="width: 32px; height: 32px;">
                                        <i class="fas fa-user"></i>
                                    </div>
                                    이지은
                                </div>
                            </td>
                            <td>leesj@company.com</td>
                            <td>감리 팀</td>
                            <td><span class="badge bg-success">감리자</span></td>
                            <td><span class="badge bg-success">활성</span></td>
                            <td>2025.02.19</td>
                            <td>
                                <a href="#" class="btn btn-sm btn-outline-primary me-1" title="수정" data-bs-toggle="modal" data-bs-target="#editUserModal">
                                    <i class="fas fa-edit"></i>
                                </a>
                                <a href="#" class="btn btn-sm btn-outline-info me-1" title="권한">
                                    <i class="fas fa-key"></i>
                                </a>
                                <a href="#" class="btn btn-sm btn-outline-danger" title="삭제">
                                    <i class="fas fa-trash"></i>
                                </a>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="d-flex align-items-center">
                                    <div class="bg-warning text-dark rounded-circle d-flex align-items-center justify-content-center me-2" style="width: 32px; height: 32px;">
                                        <i class="fas fa-user"></i>
                                    </div>
                                    박준호
                                </div>
                            </td>
                            <td>parkjh@company.com</td>
                            <td>운영 팀</td>
                            <td><span class="badge bg-warning text-dark">운영자</span></td>
                            <td><span class="badge bg-success">활성</span></td>
                            <td>2025.02.18</td>
                            <td>
                                <a href="#" class="btn btn-sm btn-outline-primary me-1" title="수정" data-bs-toggle="modal" data-bs-target="#editUserModal">
                                    <i class="fas fa-edit"></i>
                                </a>
                                <a href="#" class="btn btn-sm btn-outline-info me-1" title="권한">
                                    <i class="fas fa-key"></i>
                                </a>
                                <a href="#" class="btn btn-sm btn-outline-danger" title="삭제">
                                    <i class="fas fa-trash"></i>
                                </a>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="d-flex align-items-center">
                                    <div class="bg-info text-white rounded-circle d-flex align-items-center justify-content-center me-2" style="width: 32px; height: 32px;">
                                        <i class="fas fa-user"></i>
                                    </div>
                                    정수연
                                </div>
                            </td>
                            <td>chungsy@company.com</td>
                            <td>보안 팀</td>
                            <td><span class="badge bg-info">분석가</span></td>
                            <td><span class="badge bg-success">활성</span></td>
                            <td>2025.02.20</td>
                            <td>
                                <a href="#" class="btn btn-sm btn-outline-primary me-1" title="수정" data-bs-toggle="modal" data-bs-target="#editUserModal">
                                    <i class="fas fa-edit"></i>
                                </a>
                                <a href="#" class="btn btn-sm btn-outline-info me-1" title="권한">
                                    <i class="fas fa-key"></i>
                                </a>
                                <a href="#" class="btn btn-sm btn-outline-danger" title="삭제">
                                    <i class="fas fa-trash"></i>
                                </a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Pagination -->
        <div class="row mt-4">
            <div class="col-12">
                <nav aria-label="사용자 페이지 네비게이션">
                    <ul class="pagination justify-content-center">
                        <li class="page-item disabled">
                            <a class="page-link" href="#" tabindex="-1">이전</a>
                        </li>
                        <li class="page-item active">
                            <a class="page-link" href="#">1</a>
                        </li>
                        <li class="page-item">
                            <a class="page-link" href="#">2</a>
                        </li>
                        <li class="page-item">
                            <a class="page-link" href="#">3</a>
                        </li>
                        <li class="page-item">
                            <a class="page-link" href="#">다음</a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
    </main>

    <!-- Add User Modal -->
    <div class="modal fade" id="addUserModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">사용자 추가</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="addUserForm">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="firstName" class="form-label">이름</label>
                                    <input type="text" class="form-control" id="firstName" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="lastName" class="form-label">성</label>
                                    <input type="text" class="form-control" id="lastName" required>
                                </div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="email" class="form-label">이메일</label>
                            <input type="email" class="form-control" id="email" required>
                        </div>
                        <div class="mb-3">
                            <label for="department" class="form-label">부서</label>
                            <input type="text" class="form-control" id="department" required>
                        </div>
                        <div class="mb-3">
                            <label for="role" class="form-label">역할</label>
                            <select class="form-select" id="role" required>
                                <option value="">역할 선택</option>
                                <option value="admin">관리자</option>
                                <option value="auditor">감리자</option>
                                <option value="operator">운영자</option>
                                <option value="analyst">분석가</option>
                                <option value="viewer">뷰어</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="permissions" class="form-label">권한</label>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="permRead">
                                        <label class="form-check-label" for="permRead">읽기</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="permWrite" checked>
                                        <label class="form-check-label" for="permWrite">쓰기</label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="permDelete">
                                        <label class="form-check-label" for="permDelete">삭제</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="permAdmin">
                                        <label class="form-check-label" for="permAdmin">관리</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="password" class="form-label">비밀번호</label>
                            <input type="password" class="form-control" id="password" required>
                        </div>
                        <div class="mb-3">
                            <label for="confirmPassword" class="form-label">비밀번호 확인</label>
                            <input type="password" class="form-control" id="confirmPassword" required>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">취소</button>
                    <button type="button" class="btn btn-primary" id="addUserSubmitBtn">사용자 추가</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit User Modal -->
    <div class="modal fade" id="editUserModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">사용자 정보 수정</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="editUserForm">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="editFirstName" class="form-label">이름</label>
                                    <input type="text" class="form-control" id="editFirstName" value="김민수" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="editLastName" class="form-label">성</label>
                                    <input type="text" class="form-control" id="editLastName" value="" required>
                                </div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="editEmail" class="form-label">이메일</label>
                            <input type="email" class="form-control" id="editEmail" value="kimms@company.com" required>
                        </div>
                        <div class="mb-3">
                            <label for="editDepartment" class="form-label">부서</label>
                            <input type="text" class="form-control" id="editDepartment" value="IT 보안 팀" required>
                        </div>
                        <div class="mb-3">
                            <label for="editRole" class="form-label">역할</label>
                            <select class="form-select" id="editRole" required>
                                <option value="admin" selected>관리자</option>
                                <option value="auditor">감리자</option>
                                <option value="operator">운영자</option>
                                <option value="analyst">분석가</option>
                                <option value="viewer">뷰어</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="editPermissions" class="form-label">권한</label>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="editPermRead" checked>
                                        <label class="form-check-label" for="editPermRead">읽기</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="editPermWrite" checked>
                                        <label class="form-check-label" for="editPermWrite">쓰기</label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="editPermDelete">
                                        <label class="form-check-label" for="editPermDelete">삭제</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="editPermAdmin" checked>
                                        <label class="form-check-label" for="editPermAdmin">관리</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">취소</button>
                    <button type="button" class="btn btn-primary" id="editUserSubmitBtn">수정 저장</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Role Permissions Modal -->
    <div class="modal fade" id="rolePermissionsModal" tabindex="-1">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">역할 기반 권한 설정</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="table-responsive">
                        <table class="table table-bordered">
                            <thead>
                                <tr>
                                    <th>역할</th>
                                    <th>감리 계획</th>
                                    <th>체크리스트</th>
                                    <th>보고서</th>
                                    <th>문서 관리</th>
                                    <th>시스템 설정</th>
                                    <th>사용자 관리</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <th>관리자</th>
                                    <td><i class="fas fa-check text-success"></i></td>
                                    <td><i class="fas fa-check text-success"></i></td>
                                    <td><i class="fas fa-check text-success"></i></td>
                                    <td><i class="fas fa-check text-success"></i></td>
                                    <td><i class="fas fa-check text-success"></i></td>
                                    <td><i class="fas fa-check text-success"></i></td>
                                </tr>
                                <tr>
                                    <th>감리자</th>
                                    <td><i class="fas fa-check text-success"></i></td>
                                    <td><i class="fas fa-check text-success"></i></td>
                                    <td><i class="fas fa-check text-success"></i></td>
                                    <td><i class="fas fa-check text-success"></i></td>
                                    <td><i class="fas fa-times text-danger"></i></td>
                                    <td><i class="fas fa-times text-danger"></i></td>
                                </tr>
                                <tr>
                                    <th>운영자</th>
                                    <td><i class="fas fa-times text-danger"></i></td>
                                    <td><i class="fas fa-check text-success"></i></td>
                                    <td><i class="fas fa-check text-success"></i></td>
                                    <td><i class="fas fa-check text-success"></i></td>
                                    <td><i class="fas fa-times text-danger"></i></td>
                                    <td><i class="fas fa-times text-danger"></i></td>
                                </tr>
                                <tr>
                                    <th>분석가</th>
                                    <td><i class="fas fa-times text-danger"></i></td>
                                    <td><i class="fas fa-check text-success"></i></td>
                                    <td><i class="fas fa-check text-success"></i></td>
                                    <td><i class="fas fa-times text-danger"></i></td>
                                    <td><i class="fas fa-times text-danger"></i></td>
                                    <td><i class="fas fa-times text-danger"></i></td>
                                </tr>
                                <tr>
                                    <th>뷰어</th>
                                    <td><i class="fas fa-check text-success"></i></td>
                                    <td><i class="fas fa-check text-success"></i></td>
                                    <td><i class="fas fa-times text-danger"></i></td>
                                    <td><i class="fas fa-times text-danger"></i></td>
                                    <td><i class="fas fa-times text-danger"></i></td>
                                    <td><i class="fas fa-times text-danger"></i></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <p class="mt-3">각 역할에 대한 권한을 수정하려면 <button class="btn btn-sm btn-outline-primary">수정하기</button> 버튼을 클릭하세요.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">닫기</button>
                    <button type="button" class="btn btn-primary">저장</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-light mt-5 py-4">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h5>정보시스템 감리 허브</h5>
                    <p>정보시스템 감리 업무를 종합 지원하는 통합 플랫폼</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <p>© 2025 정보시스템 감리 허브. All rights reserved.</p>
                    <p>문의: audit-support@example.com</p>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../../js/main.js"></script>
    <script>
        // View toggle
        document.getElementById('grid-view').addEventListener('click', function() {
            document.getElementById('user-grid').style.display = 'block';
            document.getElementById('user-list').style.display = 'none';
            
            this.classList.add('active');
            document.getElementById('list-view').classList.remove('active');
        });
        
        document.getElementById('list-view').addEventListener('click', function() {
            document.getElementById('user-grid').style.display = 'none';
            document.getElementById('user-list').style.display = 'block';
            
            this.classList.add('active');
            document.getElementById('grid-view').classList.remove('active');
        });
        
        // User search
        document.getElementById('user-search').addEventListener('keyup', function() {
            const searchTerm = this.value.toLowerCase();
            
            document.querySelectorAll('#user-list tbody tr, .col-lg-3').forEach(user => {
                const name = user.querySelector('.card-title, td:first-child')?.textContent.toLowerCase();
                const email = user.querySelector('td:nth-child(2)')?.textContent.toLowerCase() || '';
                const department = user.querySelector('td:nth-child(3), .card-text')?.textContent.toLowerCase() || '';
                
                if (name && (name.includes(searchTerm) || email.includes(searchTerm) || department.includes(searchTerm))) {
                    user.style.display = 'block';
                } else if (name) {
                    user.style.display = 'none';
                }
            });
        });
        
        // Add user functionality
        document.getElementById('addUserSubmitBtn').addEventListener('click', function() {
            // Form validation
            const firstName = document.getElementById('firstName').value;
            const email = document.getElementById('email').value;
            
            if (!firstName || !email) {
                alert('필수 정보를 입력해주세요.');
                return;
            }
            
            // In a real application, this would send the form data to the server
            alert(`${firstName} 사용자가 추가되었습니다!`);
            
            // Close modal
            bootstrap.Modal.getInstance(document.getElementById('addUserModal')).hide();
            
            // Reset form
            document.getElementById('addUserForm').reset();
        });
        
        // Edit user functionality
        document.getElementById('editUserSubmitBtn').addEventListener('click', function() {
            // Form validation
            const firstName = document.getElementById('editFirstName').value;
            
            if (!firstName) {
                alert('이름을 입력해주세요.');
                return;
            }
            
            // In a real application, this would send the form data to the server
            alert(`${firstName} 사용자 정보가 수정되었습니다!`);
            
            // Close modal
            bootstrap.Modal.getInstance(document.getElementById('editUserModal')).hide();
        });
        
        // Password confirmation validation
        document.getElementById('addUserModal').addEventListener('input', function() {
            const password = document.getElementById('password').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            
            if (password !== confirmPassword) {
                document.getElementById('confirmPassword').setCustomValidity('비밀번호가 일치하지 않습니다.');
            } else {
                document.getElementById('confirmPassword').setCustomValidity('');
            }
        });
        
        // Initialize tooltips for action buttons
        document.querySelectorAll('.btn[title]').forEach(btn => {
            // In a real app, these would perform actual actions
            btn.addEventListener('click', function(e) {
                if (this.querySelector('i.fa-trash')) {
                    e.preventDefault();
                    const userName = this.closest('.card-footer, td:last-child').previousElementSibling
                        .querySelector('.card-title, td:first-child')?.textContent || 
                        this.closest('tr').querySelector('td:first-child').textContent.trim();
                    
                    if (confirm(`${userName} 사용자를 삭제하시겠습니까?`)) {
                        // In a real application, this would send a delete request to the server
                        console.log(`Deleting user: ${userName}`);
                        
                        // Remove the user from the UI (in a real app, only after successful server response)
                        this.closest('.col-lg-3, tr').remove();
                    }
                } else if (this.querySelector('i.fa-key')) {
                    e.preventDefault();
                    bootstrap.Modal.getOrCreateInstance(document.getElementById('rolePermissionsModal')).show();
                }
            });
        });
    </script>
</body>
</html>